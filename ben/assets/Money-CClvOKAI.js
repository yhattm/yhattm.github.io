import{E as l}from"./Entity-DpinO5cs.js";import{R as r}from"./Result-BKWviScr.js";import{S as c}from"./StationCode-BmEn2_u1.js";import{V as h}from"./ValueObject-DRESENkS.js";class d{constructor(t,e){if(this.latitude=t,this.longitude=e,t<-90||t>90)throw new Error("Latitude must be between -90 and 90");if(e<-180||e>180)throw new Error("Longitude must be between -180 and 180")}distanceTo(t){const n=(t.latitude-this.latitude)*Math.PI/180,i=(t.longitude-this.longitude)*Math.PI/180,a=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this.latitude*Math.PI/180)*Math.cos(t.latitude*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}}class m{constructor(t,e){if(this.code=t,this.color=e,!t||t.trim().length===0)throw new Error("Line code cannot be empty");if(!this.isValidHexColor(e))throw new Error(`Invalid hex color: ${e}`)}isValidHexColor(t){return/^#[0-9A-Fa-f]{6}$/.test(t)}}class w{constructor(t,e){if(this.english=t,this.chinese=e,!t||t.trim().length===0)throw new Error("English name cannot be empty");if(!e||e.trim().length===0)throw new Error("Chinese name cannot be empty")}getName(t){return t==="en"?this.english:this.chinese}}class o extends l{constructor(t,e,n,i){super(t),this._name=e,this._coordinates=n,this._line=i}static create(t){try{const e=new o(t.code,t.name,t.coordinates,t.line);return r.ok(e)}catch(e){return r.fail(e)}}static from(t){const e=c.create(t.id);if(e.isFailure)return r.fail(e.error);try{const n=new w(t.nameEn,t.nameZh),i=new d(t.lat,t.lng),a=new m(t.line,t.lineColor);return o.create({code:e.value,name:n,coordinates:i,line:a})}catch(n){return r.fail(n)}}distanceTo(t){return this._coordinates.distanceTo(t._coordinates)}isOnSameLineAs(t){return this.id.isOnSameLineAs(t.id)}get code(){return this.id}get name(){return this._name}get coordinates(){return this._coordinates}get line(){return this._line}get nameEn(){return this._name.english}get nameZh(){return this._name.chinese}get latitude(){return this._coordinates.latitude}get longitude(){return this._coordinates.longitude}get lineCode(){return this._line.code}get lineColor(){return this._line.color}}class s extends h{constructor(t){super(t)}static create(t){return typeof t!="number"||isNaN(t)?r.fail(new Error("Amount must be a valid number")):t<0?r.fail(new Error("Amount cannot be negative")):Number.isInteger(t)?r.ok(new s(t)):r.fail(new Error("Amount must be a whole number (NT$ has no decimal places)"))}static zero(){return new s(0)}add(t){return new s(this.value+t.value)}subtract(t){const e=this.value-t.value;return e<0?r.fail(new Error("Result would be negative")):r.ok(new s(e))}multiply(t){if(t<0)return r.fail(new Error("Factor cannot be negative"));const e=Math.round(this.value*t);return r.ok(new s(e))}isZero(){return this.value===0}isGreaterThan(t){return this.value>t.value}isLessThan(t){return this.value<t.value}toString(){return`NT$${this.value}`}get amount(){return this.value}}export{d as C,m as L,s as M,o as S,w as a};
