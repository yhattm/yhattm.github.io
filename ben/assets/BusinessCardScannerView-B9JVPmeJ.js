import{d as k,a0 as fe,$ as ve,Q as ne,k as V,l as C,o as _,w as r,m as q,g as e,P as j,ab as de,q as x,c as R,C as Ce,y as Q,ae as wt,f as p,n as E,J as F,a9 as xe,a6 as rt,a2 as je,af as ze,ag as xt,O as Be,ah as He,E as ke,G as Se,a1 as it,z as ce,ai as kt,b as T,F as ye,r as ut,a4 as Ne,a5 as St,A as Ke,ad as ae,p as qt,H as oe,I as le,aj as It,a8 as qe,s as X,v as J,a3 as Ae,e as v,ak as Tt,al as Ge,am as $t,B as pe,an as Bt,u as Je,t as m,ao as Ot,j as N,ap as Ye,h as I,_ as Te,aq as At}from"./index-CQj60LLV.js";import{C as Me}from"./CardImageId-9m3OyPHK.js";import{c as $e,_ as Ee,a as Fe,b as Ie}from"./CardTitle.vue_vue_type_script_setup_true_lang-D5ezLb1w.js";import{_ as Rt,a as Ze,b as et}from"./index-CDSHJcZb.js";import{_ as Dt}from"./index-RzuSc1tf.js";import{a as Ue,i as we,D as Mt,g as Et,F as Ft,c as Vt,b as Ut,T as Lt,V as Pt,u as jt,C as dt,d as zt}from"./chevron-down-BqCr-AlS.js";import"./Identifier-Yjt1Lx6E.js";function Le(n,t){return Ue(n)?!1:Array.isArray(n)?n.some(a=>we(a,t)):we(n,t)}const[ct,Ht]=ne("CollapsibleRoot");var Nt=k({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(n,{expose:t,emit:a}){const s=n,i=fe(s,"open",a,{defaultValue:s.defaultOpen,passive:s.open===void 0}),{disabled:l,unmountOnHide:d}=ve(s);return Ht({contentId:"",disabled:l,open:i,unmountOnHide:d,onOpenToggle:()=>{l.value||(i.value=!i.value)}}),t({open:i}),V(),(f,u)=>(_(),C(e(j),{as:f.as,"as-child":s.asChild,"data-state":e(i)?"open":"closed","data-disabled":e(l)?"":void 0},{default:r(()=>[q(f.$slots,"default",{open:e(i)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),Kt=Nt,Gt=k({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(n,{emit:t}){const a=n,s=t,o=ct();o.contentId||=de(void 0,"reka-collapsible-content");const i=x(),{forwardRef:l,currentElement:d}=V(),f=x(0),u=x(0),b=R(()=>o.open.value),S=x(b.value),$=x();Ce(()=>[b.value,i.value?.present],async()=>{await rt();const y=d.value;if(!y)return;$.value=$.value||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const B=y.getBoundingClientRect();u.value=B.height,f.value=B.width,S.value||(y.style.transitionDuration=$.value.transitionDuration,y.style.animationName=$.value.animationName)},{immediate:!0});const w=R(()=>S.value&&o.open.value);return Q(()=>{requestAnimationFrame(()=>{S.value=!1})}),wt(d,"beforematch",y=>{requestAnimationFrame(()=>{o.onOpenToggle(),s("contentFound")})}),(y,B)=>(_(),C(e(xe),{ref_key:"presentRef",ref:i,present:y.forceMount||e(o).open.value,"force-mount":!0},{default:r(({present:A})=>[p(e(j),E(y.$attrs,{id:e(o).contentId,ref:e(l),"as-child":a.asChild,as:y.as,hidden:A?void 0:e(o).unmountOnHide.value?"":"until-found","data-state":w.value?void 0:e(o).open.value?"open":"closed","data-disabled":e(o).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${u.value}px`,"--reka-collapsible-content-width":`${f.value}px`}}),{default:r(()=>[!e(o).unmountOnHide.value||A?q(y.$slots,"default",{key:0}):F("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),Jt=Gt,Yt=k({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const t=n;V();const a=ct();return(s,o)=>(_(),C(e(j),{type:s.as==="button"?"button":void 0,as:s.as,"as-child":t.asChild,"aria-controls":e(a).contentId,"aria-expanded":e(a).open.value,"data-state":e(a).open.value?"open":"closed","data-disabled":e(a).disabled?.value?"":void 0,disabled:e(a).disabled?.value,onClick:e(a).onOpenToggle},{default:r(()=>[q(s.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}}),Qt=Yt;function Xt({type:n,defaultValue:t,modelValue:a}){const s=a||t;return a!==void 0||t!==void 0?Array.isArray(s)?"multiple":"single":n??"single"}function Wt({type:n,defaultValue:t,modelValue:a}){return n||Xt({type:n,defaultValue:t,modelValue:a})}function Zt({type:n,defaultValue:t}){return t!==void 0?t:n==="single"?void 0:[]}function ea(n,t){const a=R(()=>Wt(n)),s=fe(n,"modelValue",t,{defaultValue:Zt(n),passive:n.modelValue===void 0,deep:!0});function o(l){if(a.value==="single")s.value=we(l,s.value)?void 0:l;else{const d=Array.isArray(s.value)?[...s.value||[]]:[s.value].filter(Boolean);if(Le(d,l)){const f=d.findIndex(u=>we(u,l));d.splice(f,1)}else d.push(l);s.value=d}}const i=R(()=>a.value==="single");return{modelValue:s,changeModelValue:o,isSingle:i}}const[Re,ta]=ne("AccordionRoot");var aa=k({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(n,{emit:t}){const a=n,s=t,{dir:o,disabled:i,unmountOnHide:l}=ve(a),d=je(o),{modelValue:f,changeModelValue:u,isSingle:b}=ea(a,s),{forwardRef:S,currentElement:$}=V();return ta({disabled:i,direction:d,orientation:a.orientation,parentElement:$,isSingle:b,collapsible:a.collapsible,modelValue:f,changeModelValue:u,unmountOnHide:l}),(w,y)=>(_(),C(e(j),{ref:e(S),"as-child":w.asChild,as:w.as},{default:r(()=>[q(w.$slots,"default",{modelValue:e(f)})]),_:3},8,["as-child","as"]))}}),sa=aa,Pe=(function(n){return n.Open="open",n.Closed="closed",n})(Pe||{});const[Qe,na]=ne("AccordionItem");var oa=k({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n,{expose:t}){const a=n,s=Re(),o=R(()=>s.isSingle.value?a.value===s.modelValue.value:Array.isArray(s.modelValue.value)&&s.modelValue.value.includes(a.value)),i=R(()=>s.disabled.value||a.disabled),l=R(()=>i.value?"":void 0),d=R(()=>o.value?Pe.Open:Pe.Closed);t({open:o,dataDisabled:l});const{currentRef:f,currentElement:u}=V();na({open:o,dataState:d,disabled:i,dataDisabled:l,triggerId:"",currentRef:f,currentElement:u,value:R(()=>a.value)});function b(S){const $=S.target;if(Array.from(s.parentElement.value?.querySelectorAll("[data-reka-collection-item]")??[]).findIndex(B=>B===$)===-1)return null;xt(S,$,s.parentElement.value,{arrowKeyOptions:s.orientation,dir:s.direction.value,focus:!0})}return(S,$)=>(_(),C(e(Kt),{"data-orientation":e(s).orientation,"data-disabled":l.value,"data-state":d.value,disabled:i.value,open:o.value,as:a.as,"as-child":a.asChild,"unmount-on-hide":e(s).unmountOnHide.value,onKeydown:ze(b,["up","down","left","right","home","end"])},{default:r(()=>[q(S.$slots,"default",{open:o.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),la=oa,ra=k({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=n,a=Re(),s=Qe();return V(),(o,i)=>(_(),C(e(Jt),{role:"region","as-child":t.asChild,as:o.as,"force-mount":t.forceMount,"aria-labelledby":e(s).triggerId,"data-state":e(s).dataState.value,"data-disabled":e(s).dataDisabled.value,"data-orientation":e(a).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:i[0]||(i[0]=l=>e(a).changeModelValue(e(s).value.value))},{default:r(()=>[q(o.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),ia=ra,ua=k({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(n){const t=n,a=Re(),s=Qe();return V(),(o,i)=>(_(),C(e(j),{as:t.as,"as-child":t.asChild,"data-orientation":e(a).orientation,"data-state":e(s).dataState.value,"data-disabled":e(s).dataDisabled.value},{default:r(()=>[q(o.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),da=ua,ca=k({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=n,a=Re(),s=Qe();s.triggerId||=de(void 0,"reka-accordion-trigger");function o(){const i=a.isSingle.value&&s.open.value&&!a.collapsible;s.disabled.value||i||a.changeModelValue(s.value.value)}return(i,l)=>(_(),C(e(Qt),{id:e(s).triggerId,ref:e(s).currentRef,"data-reka-collection-item":"",as:t.as,"as-child":t.asChild,"aria-disabled":e(s).disabled.value||void 0,"aria-expanded":e(s).open.value||!1,"data-disabled":e(s).dataDisabled.value,"data-orientation":e(a).orientation,"data-state":e(s).dataState.value,disabled:e(s).disabled.value,onClick:o},{default:r(()=>[q(i.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),pa=ca;const[W,fa]=ne("DialogRoot");var va=k({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(n,{emit:t}){const a=n,o=fe(a,"open",t,{defaultValue:a.defaultOpen,passive:a.open===void 0}),i=x(),l=x(),{modal:d}=ve(a);return fa({open:o,modal:d,openModal:()=>{o.value=!0},onOpenChange:f=>{o.value=f},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:l}),(f,u)=>q(f.$slots,"default",{open:e(o),close:()=>o.value=!1})}}),ma=va,_a=k({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const t=n;V();const a=W();return(s,o)=>(_(),C(e(j),E(t,{type:s.as==="button"?"button":void 0,onClick:o[0]||(o[0]=i=>e(a).onOpenChange(!1))}),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["type"]))}}),ga=_a,ha=k({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const a=n,s=t,o=W(),{forwardRef:i,currentElement:l}=V();return o.titleId||=de(void 0,"reka-dialog-title"),o.descriptionId||=de(void 0,"reka-dialog-description"),Q(()=>{o.contentElement=l,Be()!==document.body&&(o.triggerElement.value=Be())}),(d,f)=>(_(),C(e(Ft),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:f[5]||(f[5]=u=>s("openAutoFocus",u)),onUnmountAutoFocus:f[6]||(f[6]=u=>s("closeAutoFocus",u))},{default:r(()=>[p(e(Mt),E({id:e(o).contentId,ref:e(i),as:d.as,"as-child":d.asChild,"disable-outside-pointer-events":d.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(Et)(e(o).open.value)},d.$attrs,{onDismiss:f[0]||(f[0]=u=>e(o).onOpenChange(!1)),onEscapeKeyDown:f[1]||(f[1]=u=>s("escapeKeyDown",u)),onFocusOutside:f[2]||(f[2]=u=>s("focusOutside",u)),onInteractOutside:f[3]||(f[3]=u=>s("interactOutside",u)),onPointerDownOutside:f[4]||(f[4]=u=>s("pointerDownOutside",u))}),{default:r(()=>[q(d.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),pt=ha,ba=k({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const a=n,s=t,o=W(),i=He(s),{forwardRef:l,currentElement:d}=V();return Vt(d),(f,u)=>(_(),C(pt,E({...a,...e(i)},{ref:e(l),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:u[0]||(u[0]=b=>{b.defaultPrevented||(b.preventDefault(),e(o).triggerElement.value?.focus())}),onPointerDownOutside:u[1]||(u[1]=b=>{const S=b.detail.originalEvent,$=S.button===0&&S.ctrlKey===!0;(S.button===2||$)&&b.preventDefault()}),onFocusOutside:u[2]||(u[2]=b=>{b.preventDefault()})}),{default:r(()=>[q(f.$slots,"default")]),_:3},16,["trap-focus"]))}}),ya=ba,Ca=k({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const a=n,o=He(t);V();const i=W(),l=x(!1),d=x(!1);return(f,u)=>(_(),C(pt,E({...a,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=b=>{b.defaultPrevented||(l.value||e(i).triggerElement.value?.focus(),b.preventDefault()),l.value=!1,d.value=!1}),onInteractOutside:u[1]||(u[1]=b=>{b.defaultPrevented||(l.value=!0,b.detail.originalEvent.type==="pointerdown"&&(d.value=!0));const S=b.target;e(i).triggerElement.value?.contains(S)&&b.preventDefault(),b.detail.originalEvent.type==="focusin"&&d.value&&b.preventDefault()})}),{default:r(()=>[q(f.$slots,"default")]),_:3},16))}}),wa=Ca,xa=k({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const a=n,s=t,o=W(),i=He(s),{forwardRef:l}=V();return(d,f)=>(_(),C(e(xe),{present:d.forceMount||e(o).open.value},{default:r(()=>[e(o).modal.value?(_(),C(ya,E({key:0,ref:e(l)},{...a,...e(i),...d.$attrs}),{default:r(()=>[q(d.$slots,"default")]),_:3},16)):(_(),C(wa,E({key:1,ref:e(l)},{...a,...e(i),...d.$attrs}),{default:r(()=>[q(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ka=xa,Sa=k({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(n){const t=n;V();const a=W();return(s,o)=>(_(),C(e(j),E(t,{id:e(a).descriptionId}),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["id"]))}}),qa=Sa,Ia=k({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=W();return Ut(!0),V(),(a,s)=>(_(),C(e(j),{as:a.as,"as-child":a.asChild,"data-state":e(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:r(()=>[q(a.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Ta=Ia,$a=k({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=W(),{forwardRef:a}=V();return(s,o)=>e(t)?.modal.value?(_(),C(e(xe),{key:0,present:s.forceMount||e(t).open.value},{default:r(()=>[p(Ta,E(s.$attrs,{ref:e(a),as:s.as,"as-child":s.asChild}),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):F("v-if",!0)}}),Ba=$a,Oa=k({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(n){const t=n;return(a,s)=>(_(),C(e(Lt),ke(Se(t)),{default:r(()=>[q(a.$slots,"default")]),_:3},16))}}),Aa=Oa,Ra=k({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(n){const t=n,a=W();return V(),(s,o)=>(_(),C(e(j),E(t,{id:e(a).titleId}),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["id"]))}}),Da=Ra,Ma=k({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const t=n,a=W(),{forwardRef:s,currentElement:o}=V();return a.contentId||=de(void 0,"reka-dialog-content"),Q(()=>{a.triggerElement.value=o.value}),(i,l)=>(_(),C(e(j),E(t,{ref:e(s),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(a).open.value||!1,"aria-controls":e(a).open.value?e(a).contentId:void 0,"data-state":e(a).open.value?"open":"closed",onClick:e(a).onOpenToggle}),{default:r(()=>[q(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Ea=Ma;const Fa="rovingFocusGroup.onEntryFocus",Va={bubbles:!1,cancelable:!0},Ua={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function La(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Pa(n,t,a){const s=La(n.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ua[s]}function ft(n,t=!1){const a=Be();for(const s of n)if(s===a||(s.focus({preventScroll:t}),Be()!==a))return}function ja(n,t){return n.map((a,s)=>n[(t+s)%n.length])}const[za,Ha]=ne("RovingFocusGroup");var Na=k({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(n,{expose:t,emit:a}){const s=n,o=a,{loop:i,orientation:l,dir:d}=ve(s),f=je(d),u=fe(s,"currentTabStopId",o,{defaultValue:s.defaultCurrentTabStopId,passive:s.currentTabStopId===void 0}),b=x(!1),S=x(!1),$=x(0),{getItems:w,CollectionSlot:y}=it({isProvider:!0});function B(L){const K=!S.value;if(L.currentTarget&&L.target===L.currentTarget&&K&&!b.value){const z=new CustomEvent(Fa,Va);if(L.currentTarget.dispatchEvent(z),o("entryFocus",z),!z.defaultPrevented){const D=w().map(U=>U.ref).filter(U=>U.dataset.disabled!==""),G=D.find(U=>U.getAttribute("data-active")===""),Y=D.find(U=>U.getAttribute("data-highlighted")===""),Z=D.find(U=>U.id===u.value),se=[G,Y,Z,...D].filter(Boolean);ft(se,s.preventScrollOnEntryFocus)}}S.value=!1}function A(){setTimeout(()=>{S.value=!1},1)}return t({getItems:w}),Ha({loop:i,dir:f,orientation:l,currentTabStopId:u,onItemFocus:L=>{u.value=L},onItemShiftTab:()=>{b.value=!0},onFocusableItemAdd:()=>{$.value++},onFocusableItemRemove:()=>{$.value--}}),(L,K)=>(_(),C(e(y),null,{default:r(()=>[p(e(j),{tabindex:b.value||$.value===0?-1:0,"data-orientation":e(l),as:L.as,"as-child":L.asChild,dir:e(f),style:{outline:"none"},onMousedown:K[0]||(K[0]=z=>S.value=!0),onMouseup:A,onFocus:B,onBlur:K[1]||(K[1]=z=>b.value=!1)},{default:r(()=>[q(L.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),Ka=Na,Ga=k({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const t=n,a=za(),s=de(),o=R(()=>t.tabStopId||s),i=R(()=>a.currentTabStopId.value===o.value),{getItems:l,CollectionItem:d}=it();Q(()=>{t.focusable&&a.onFocusableItemAdd()}),ce(()=>{t.focusable&&a.onFocusableItemRemove()});function f(u){if(u.key==="Tab"&&u.shiftKey){a.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const b=Pa(u,a.orientation.value,a.dir.value);if(b!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||!t.allowShiftKey&&u.shiftKey)return;u.preventDefault();let S=[...l().map($=>$.ref).filter($=>$.dataset.disabled!=="")];if(b==="last")S.reverse();else if(b==="prev"||b==="next"){b==="prev"&&S.reverse();const $=S.indexOf(u.currentTarget);S=a.loop.value?ja(S,$+1):S.slice($+1)}rt(()=>ft(S))}}return(u,b)=>(_(),C(e(d),null,{default:r(()=>[p(e(j),{tabindex:i.value?0:-1,"data-orientation":e(a).orientation.value,"data-active":u.active?"":void 0,"data-disabled":u.focusable?void 0:"",as:u.as,"as-child":u.asChild,onMousedown:b[0]||(b[0]=S=>{u.focusable?e(a).onItemFocus(o.value):S.preventDefault()}),onFocus:b[1]||(b[1]=S=>e(a).onItemFocus(o.value)),onKeydown:f},{default:r(()=>[q(u.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),vt=Ga,Ja=k({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(n){const t=n,{primitiveElement:a,currentElement:s}=kt(),o=R(()=>t.checked??t.value);return Ce(o,(i,l)=>{if(!s.value)return;const d=s.value,f=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(f,"value").set;if(b&&i!==l){const S=new Event("input",{bubbles:!0}),$=new Event("change",{bubbles:!0});b.call(d,i),d.dispatchEvent(S),d.dispatchEvent($)}}),(i,l)=>(_(),C(Pt,E({ref_key:"primitiveElement",ref:a},{...t,...i.$attrs},{as:"input"}),null,16))}}),tt=Ja,Ya=k({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(n){const t=n,a=R(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),s=R(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"||t.value===null||t.value===void 0?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((o,i)=>typeof o=="object"?Object.entries(o).map(([l,d])=>({name:`${t.name}[${i}][${l}]`,value:d})):{name:`${t.name}[${i}]`,value:o}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([o,i])=>({name:`${t.name}[${o}]`,value:i})):[]);return(o,i)=>(_(),T(ye,null,[F(" We render single input if it's required "),a.value?(_(),C(tt,E({key:o.name},{...t,...o.$attrs},{name:o.name,value:o.value}),null,16,["name","value"])):(_(!0),T(ye,{key:1},ut(s.value,l=>(_(),C(tt,E({key:l.name},{ref_for:!0},{...t,...o.$attrs},{name:l.name,value:l.value}),null,16,["name","value"]))),128))],2112))}}),Qa=Ya;const[Xa]=ne("CheckboxGroupRoot");function Oe(n){return n==="indeterminate"}function mt(n){return Oe(n)?"indeterminate":n?"checked":"unchecked"}const[Wa,Za]=ne("CheckboxRoot");var es=k({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(n,{emit:t}){const a=n,s=t,{forwardRef:o,currentElement:i}=V(),l=Xa(null),d=fe(a,"modelValue",s,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),f=R(()=>l?.disabled.value||a.disabled),u=R(()=>Ue(l?.modelValue.value)?d.value==="indeterminate"?"indeterminate":d.value:Le(l.modelValue.value,a.value));function b(){if(Ue(l?.modelValue.value))d.value=Oe(d.value)?!0:!d.value;else{const w=[...l.modelValue.value||[]];if(Le(w,a.value)){const y=w.findIndex(B=>we(B,a.value));w.splice(y,1)}else w.push(a.value);l.modelValue.value=w}}const S=jt(i),$=R(()=>a.id&&i.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Za({disabled:f,state:u}),(w,y)=>(_(),C(St(e(l)?.rovingFocus.value?e(vt):e(j)),E(w.$attrs,{id:w.id,ref:e(o),role:"checkbox","as-child":w.asChild,as:w.as,type:w.as==="button"?"button":void 0,"aria-checked":e(Oe)(u.value)?"mixed":u.value,"aria-required":w.required,"aria-label":w.$attrs["aria-label"]||$.value,"data-state":e(mt)(u.value),"data-disabled":f.value?"":void 0,disabled:f.value,focusable:e(l)?.rovingFocus.value?!f.value:void 0,onKeydown:ze(Ne(()=>{},["prevent"]),["enter"]),onClick:b}),{default:r(()=>[q(w.$slots,"default",{modelValue:e(d),state:u.value}),e(S)&&w.name&&!e(l)?(_(),C(e(Qa),{key:0,type:"checkbox",checked:!!u.value,name:w.name,value:w.value,disabled:f.value,required:w.required},null,8,["checked","name","value","disabled","required"])):F("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),ts=es,as=k({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const{forwardRef:t}=V(),a=Wa();return(s,o)=>(_(),C(e(xe),{present:s.forceMount||e(Oe)(e(a).state.value)||e(a).state.value===!0},{default:r(()=>[p(e(j),E({ref:e(t),"data-state":e(mt)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":s.asChild,as:s.as},s.$attrs),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ss=as;const[Xe,ns]=ne("TabsRoot");var os=k({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(n,{emit:t}){const a=n,s=t,{orientation:o,unmountOnHide:i,dir:l}=ve(a),d=je(l);V();const f=fe(a,"modelValue",s,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),u=x();return ns({modelValue:f,changeModelValue:b=>{f.value=b},orientation:o,dir:d,unmountOnHide:i,activationMode:a.activationMode,baseId:de(void 0,"reka-tabs"),tabsList:u}),(b,S)=>(_(),C(e(j),{dir:e(d),"data-orientation":e(o),"as-child":b.asChild,as:b.as},{default:r(()=>[q(b.$slots,"default",{modelValue:e(f)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),ls=os;function _t(n,t){return`${n}-trigger-${t}`}function gt(n,t){return`${n}-content-${t}`}var rs=k({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=n,{forwardRef:a}=V(),s=Xe(),o=R(()=>_t(s.baseId,t.value)),i=R(()=>gt(s.baseId,t.value)),l=R(()=>t.value===s.modelValue.value),d=x(l.value);return Q(()=>{requestAnimationFrame(()=>{d.value=!1})}),(f,u)=>(_(),C(e(xe),{present:f.forceMount||l.value,"force-mount":""},{default:r(({present:b})=>[p(e(j),{id:i.value,ref:e(a),"as-child":f.asChild,as:f.as,role:"tabpanel","data-state":l.value?"active":"inactive","data-orientation":e(s).orientation.value,"aria-labelledby":o.value,hidden:!b,tabindex:"0",style:Ke({animationDuration:d.value?"0s":void 0})},{default:r(()=>[!e(s).unmountOnHide.value||b?q(f.$slots,"default",{key:0}):F("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),is=rs,us=k({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const t=n,{loop:a}=ve(t),{forwardRef:s,currentElement:o}=V(),i=Xe();return i.tabsList=o,(l,d)=>(_(),C(e(Ka),{"as-child":"",orientation:e(i).orientation.value,dir:e(i).dir.value,loop:e(a)},{default:r(()=>[p(e(j),{ref:e(s),role:"tablist","as-child":l.asChild,as:l.as,"aria-orientation":e(i).orientation.value},{default:r(()=>[q(l.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),ds=us,cs=k({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const t=n,{forwardRef:a}=V(),s=Xe(),o=R(()=>_t(s.baseId,t.value)),i=R(()=>gt(s.baseId,t.value)),l=R(()=>t.value===s.modelValue.value);return(d,f)=>(_(),C(e(vt),{"as-child":"",focusable:!d.disabled,active:l.value},{default:r(()=>[p(e(j),{id:o.value,ref:e(a),role:"tab",type:d.as==="button"?"button":void 0,as:d.as,"as-child":d.asChild,"aria-selected":l.value?"true":"false","aria-controls":i.value,"data-state":l.value?"active":"inactive",disabled:d.disabled,"data-disabled":d.disabled?"":void 0,"data-orientation":e(s).orientation.value,onMousedown:f[0]||(f[0]=Ne(u=>{!d.disabled&&u.ctrlKey===!1?e(s).changeModelValue(d.value):u.preventDefault()},["left"])),onKeydown:f[1]||(f[1]=ze(u=>e(s).changeModelValue(d.value),["enter","space"])),onFocus:f[2]||(f[2]=()=>{const u=e(s).activationMode!=="manual";!l.value&&!d.disabled&&u&&e(s).changeModelValue(d.value)})},{default:r(()=>[q(d.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),ps=cs;/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ae("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ae("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ae("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ae("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ae("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ae("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ae("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ae("zap-off",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ae("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Ve(n){const t=new Blob([n.image],{type:n.imageType}),a=new Blob([n.thumbnail],{type:n.imageType});return{id:n.id.value,imageUrl:URL.createObjectURL(t),thumbnailUrl:URL.createObjectURL(a),imageType:n.imageType}}const We=qt("businessCard",()=>{const n=oe(le.ScanBusinessCardUseCase),t=oe(le.GetAllCardsUseCase),a=oe(le.UpdateCardUseCase),s=oe(le.DeleteCardUseCase),o=oe(le.DeleteMultipleCardsUseCase),i=oe(le.RescanCardUseCase),l=oe(le.CardImageRepository),d=x([]),f=x(!1),u=x(null),b=x(new Set),S=R(()=>d.value.length),$=R(()=>b.value.size),w=R(()=>d.value.length>0);async function y(){f.value=!0,u.value=null;try{const g=await t.execute();g.success?d.value=g.cards:u.value=g.error||"Failed to load cards"}catch(g){u.value="Failed to load cards",console.error("Load cards error:",g)}finally{f.value=!1}}async function B(g,h){f.value=!0,u.value=null;try{const c=await n.execute({imageFile:g,onProgress:h});if(c.success&&c.card)await y();else throw u.value=c.error||"Failed to scan card",new Error(u.value)}catch(c){throw u.value="Failed to scan card",console.error("Scan card error:",c),c}finally{f.value=!1}}async function A(g,h,c){await B(c)}async function L(g,h){f.value=!0,u.value=null;try{const c=await a.execute({cardId:g,updates:h});if(c.success)await y();else throw u.value=c.error||"Failed to update card",new Error(u.value)}catch(c){throw u.value="Failed to update card",console.error("Update card error:",c),c}finally{f.value=!1}}async function K(g,h){f.value=!0,u.value=null;try{const c=await i.execute({cardId:g,onProgress:h});if(c.success&&c.card)return await y(),{name:c.card.name,title:c.card.title,company:c.card.company,phone:c.card.phone,email:c.card.email,address:c.card.address,website:c.card.website,socialMedia:c.card.socialMedia,fax:c.card.fax};throw u.value=c.error||"Failed to rescan card",new Error(u.value)}catch(c){throw u.value="Failed to rescan card",console.error("Rescan card error:",c),c}finally{f.value=!1}}async function z(g){f.value=!0,u.value=null;try{const h=await s.execute({cardId:g});if(h.success)b.value.delete(g),await y();else throw u.value=h.error||"Failed to delete card",new Error(u.value)}catch(h){throw u.value="Failed to delete card",console.error("Delete card error:",h),h}finally{f.value=!1}}async function D(g){f.value=!0,u.value=null;try{const h=await o.execute({cardIds:g});if(h.success)g.forEach(c=>b.value.delete(c)),await y();else throw u.value=h.error||"Failed to delete cards",new Error(u.value)}catch(h){throw u.value="Failed to delete cards",console.error("Delete cards error:",h),h}finally{f.value=!1}}async function G(g){try{const h=Me.from(g),c=await l.findById(h);return c?Ve(c):void 0}catch(h){console.error("Failed to get card image:",h);return}}async function Y(g){try{const h=Me.from(g),c=await l.findById(h);return c?Ve(c).thumbnailUrl:null}catch(h){return console.error("Failed to get thumbnail URL:",h),null}}async function Z(g){try{const h=Me.from(g),c=await l.findById(h);return c?Ve(c).imageUrl:null}catch(h){return console.error("Failed to get image URL:",h),null}}function se(g){if(!g.trim())return d.value;const h=g.toLowerCase();return d.value.filter(c=>[c.name,c.company,c.email,c.phone,c.title,c.address].filter(Boolean).join(" ").toLowerCase().includes(h))}function U(g,h){const c=[...g];switch(h){case"date":return c.sort((M,O)=>O.timestamp-M.timestamp);case"name":return c.sort((M,O)=>{const H=M.name||"",P=O.name||"";return H.localeCompare(P)});case"company":return c.sort((M,O)=>{const H=M.company||"",P=O.company||"";return H.localeCompare(P)});default:return c}}function ee(g){b.value.has(g)?b.value.delete(g):b.value.add(g)}function me(){d.value.forEach(g=>b.value.add(g.id))}function _e(){b.value.clear()}function ge(g){const h=g?d.value.filter(M=>g.includes(M.id)):d.value,c={exportDate:new Date().toISOString(),cardCount:h.length,cards:h.map(M=>({...M,imageId:M.imageId}))};return JSON.stringify(c,null,2)}async function he(){const{getStorageEstimate:g}=await It(async()=>{const{getStorageEstimate:h}=await import("./db-setup-CEBhzmfn.js");return{getStorageEstimate:h}},[]);return await g()}return{cards:d,isLoading:f,error:u,selectedCardIds:b,cardCount:S,selectedCount:$,hasCards:w,loadCards:y,scanCard:B,addCard:A,updateCard:L,rescanCard:K,deleteCard:z,deleteCards:D,getCardImage:G,getCardThumbnailUrl:Y,getCardImageUrl:Z,searchCards:se,sortCards:U,toggleCardSelection:ee,selectAll:me,clearSelection:_e,exportToJson:ge,getStorageInfo:he}});function ys(n){return["image/jpeg","image/png","image/webp"].includes(n.type)}function Cs(n){return URL.createObjectURL(n)}function st(n){URL.revokeObjectURL(n)}const ws=k({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(n,{emit:t}){const o=qe(n,t);return(i,l)=>(_(),C(e(ls),ke(Se(e(o))),{default:r(()=>[q(i.$slots,"default")]),_:3},16))}}),nt=k({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class");return(s,o)=>(_(),C(e(is),E({class:e(J)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t.class)},e(a)),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["class"]))}}),xs=k({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class");return(s,o)=>(_(),C(e(ds),E(e(a),{class:e(J)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t.class)}),{default:r(()=>[q(s.$slots,"default")]),_:3},16,["class"]))}}),ks={class:"truncate"},ot=k({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class"),s=Ae(a);return(o,i)=>(_(),C(e(ps),E(e(s),{class:e(J)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t.class)}),{default:r(()=>[v("span",ks,[q(o.$slots,"default")])]),_:3},16,["class"]))}}),lt=k({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(n,{emit:t}){const a=n,o=Tt(a,"modelValue",t,{passive:!0,defaultValue:a.defaultValue});return(i,l)=>Ge((_(),T("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>Bt(o)?o.value=d:null),class:pe(e(J)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a.class))},null,2)),[[$t,e(o)]])}}),Ss=k({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(n,{emit:t}){const a=n,s=t,o=X(a,"class"),i=qe(o,s);return(l,d)=>(_(),C(e(ts),E(e(i),{class:e(J)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a.class)}),{default:r(()=>[p(e(ss),{class:"grid place-content-center text-current"},{default:r(()=>[q(l.$slots,"default",{},()=>[p(e(dt),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),qs={key:0,class:"text-sm text-muted-foreground"},Is=["src"],Ts={key:2,class:"text-sm text-muted-foreground"},$s=k({__name:"CardThumbnail",props:{imageId:{}},emits:["click"],setup(n,{emit:t}){const a=n,s=t,o=We(),i=x(null),l=x(!0);return Q(async()=>{try{i.value=await o.getCardThumbnailUrl(a.imageId)}catch(d){console.error("Failed to load thumbnail:",d)}finally{l.value=!1}}),ce(()=>{i.value&&URL.revokeObjectURL(i.value)}),(d,f)=>(_(),T("div",{class:"w-full h-32 bg-muted rounded-md overflow-hidden flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",onClick:f[0]||(f[0]=u=>s("click"))},[l.value?(_(),T("div",qs,"Loading...")):i.value?(_(),T("img",{key:1,src:i.value,alt:"Card thumbnail",class:"w-full h-full object-cover"},null,8,Is)):(_(),T("div",Ts,"No image"))]))}});function Bs(){const n=x(null),t=x(null),a=x(!1),s=x("environment"),o=x({}),i=()=>!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia);async function l(w="environment"){if(!i())return t.value="Camera API not supported",!1;try{s.value=w;const y={video:{facingMode:{ideal:w},width:{ideal:1920},height:{ideal:1080}},audio:!1};n.value=await navigator.mediaDevices.getUserMedia(y),a.value=!0,t.value=null;const B=n.value.getVideoTracks()[0];if(B){const A=B.getCapabilities();if(o.value={torch:A.torch!==void 0,zoom:A.zoom!==void 0,focusMode:A.focusMode||[]},A.focusMode&&A.focusMode.includes("continuous"))try{await B.applyConstraints({advanced:[{focusMode:"continuous"}]})}catch(L){console.warn("Could not set continuous focus mode:",L)}}return!0}catch(y){return console.error("Camera access error:",y),y instanceof Error&&(y.name==="NotAllowedError"?t.value="Camera permission denied":y.name==="NotFoundError"?t.value="No camera found":t.value="Camera access failed"),!1}}function d(){n.value&&(n.value.getTracks().forEach(w=>w.stop()),n.value=null,a.value=!1)}async function f(w){if(!n.value||!o.value.torch)return!1;try{const y=n.value.getVideoTracks()[0];return y?(await y.applyConstraints({advanced:[{torch:w}]}),!0):!1}catch(y){return console.error("Torch toggle error:",y),!1}}async function u(w){if(!n.value)return!1;try{const y=n.value.getVideoTracks()[0];return y?(await y.applyConstraints({advanced:[{focusMode:w}]}),!0):!1}catch(y){return console.error("Focus mode error:",y),!1}}async function b(w,y){if(!n.value)return!1;try{const B=n.value.getVideoTracks()[0];if(!B)return!1;const A=B.getCapabilities();return A.focusMode&&A.focusMode.includes("single-shot")?(await B.applyConstraints({advanced:[{focusMode:"single-shot",pointsOfInterest:[{x:w,y}]}]}),!0):A.focusMode&&A.focusMode.includes("manual")?(await B.applyConstraints({advanced:[{focusMode:"manual"}]}),!0):!1}catch(B){return console.warn("Tap to focus not supported:",B),!1}}async function S(){const w=s.value==="user"?"environment":"user";return d(),await l(w)}function $(w){if(!n.value||!a.value)return Promise.resolve(null);try{const y=document.createElement("canvas");y.width=w.videoWidth,y.height=w.videoHeight;const B=y.getContext("2d");return B?(s.value==="user"&&(B.translate(y.width,0),B.scale(-1,1)),B.drawImage(w,0,0),new Promise(A=>{y.toBlob(L=>{A(L)},"image/jpeg",.9)})):Promise.resolve(null)}catch(y){return console.error("Capture image error:",y),Promise.resolve(null)}}return ce(()=>{d()}),{stream:n,error:t,isActive:a,facingMode:s,capabilities:o,isSupported:i,startCamera:l,stopCamera:d,toggleTorch:f,setFocusMode:u,tapToFocus:b,switchCamera:S,captureImage:$}}function Os(){const n=x({type:"portrait",angle:0,isPortrait:!0,isLandscape:!1}),t=x(!1),a=()=>{if(!(typeof window>"u"))if(window.screen?.orientation){const l=window.screen.orientation.type,d=window.screen.orientation.angle;n.value={type:l.includes("portrait")?"portrait":"landscape",angle:d,isPortrait:l.includes("portrait"),isLandscape:l.includes("landscape")}}else if("orientation"in window){const l=window.orientation||0;n.value={type:l===0||l===180?"portrait":"landscape",angle:l,isPortrait:l===0||l===180,isLandscape:l===90||l===270}}else{const l=window,d=l.innerHeight>l.innerWidth;n.value={type:d?"portrait":"landscape",angle:0,isPortrait:d,isLandscape:!d}}},s=async l=>{const d=window.screen?.orientation;if(!d?.lock)return console.warn("Screen Orientation API lock not supported"),!1;try{return await d.lock(l==="portrait"?"portrait":"landscape"),t.value=!0,!0}catch(f){return console.error("Failed to lock orientation:",f),!1}},o=()=>{if(!window.screen?.orientation?.unlock){console.warn("Screen Orientation API unlock not supported");return}try{window.screen.orientation.unlock(),t.value=!1}catch(l){console.error("Failed to unlock orientation:",l)}},i=()=>{a()};return Q(()=>{a(),window.screen?.orientation?window.screen.orientation.addEventListener("change",i):window.addEventListener("orientationchange",i),window.addEventListener("resize",i)}),ce(()=>{t.value&&o(),window.screen?.orientation?window.screen.orientation.removeEventListener("change",i):window.removeEventListener("orientationchange",i),window.removeEventListener("resize",i)}),{orientation:n,isLocked:t,lockOrientation:s,unlockOrientation:o,updateOrientation:a}}const As={key:0,class:"p-8 text-center"},Rs={class:"text-muted-foreground mb-4"},Ds={class:"text-sm text-muted-foreground"},Ms={key:1,class:"p-8 text-center"},Es={class:"text-destructive mb-4"},Fs={class:"text-sm text-muted-foreground"},Vs=["src"],Us={key:2,class:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent"},Ls={class:"flex items-center justify-center gap-4"},Ps={key:3,class:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent"},js={class:"flex items-center justify-center gap-4"},zs=k({__name:"CameraCapture",emits:["captured"],setup(n,{emit:t}){const{t:a}=Je(),s=t,{stream:o,error:i,isActive:l,facingMode:d,capabilities:f,isSupported:u,startCamera:b,stopCamera:S,toggleTorch:$,tapToFocus:w,switchCamera:y,captureImage:B}=Bs(),{orientation:A,lockOrientation:L,unlockOrientation:K}=Os(),z=x(null),D=x(null),G=x(null),Y=x(!1),Z=x(!1),se=x(!1),U=x(0),ee=x({x:0,y:0,show:!1}),me=R(()=>A.value.isLandscape?"landscape-mode":"portrait-mode");ce(()=>{D.value&&URL.revokeObjectURL(D.value),K(),S()}),Ce(o,O=>{O&&z.value&&(z.value.srcObject=O)},{immediate:!0});async function _e(){await $(!Y.value)&&(Y.value=!Y.value)}async function ge(){await y()}async function he(){if(!se.value&&!l.value)if(await L("portrait"),await b("environment"))se.value=!0,await new Promise(P=>setTimeout(P,500));else{K();return}if(!z.value)return;Z.value=!0;const O=await B(z.value);Z.value=!1,O&&(G.value=O,D.value&&URL.revokeObjectURL(D.value),D.value=URL.createObjectURL(O),U.value=0,S(),K())}async function g(){if(!G.value)return;U.value=(U.value+90)%360;const O=new Image,H=URL.createObjectURL(G.value);O.onload=()=>{const P=document.createElement("canvas"),te=P.getContext("2d");te&&(U.value===90||U.value===270?(P.width=O.height,P.height=O.width):(P.width=O.width,P.height=O.height),te.translate(P.width/2,P.height/2),te.rotate(U.value*Math.PI/180),te.drawImage(O,-O.width/2,-O.height/2),P.toBlob(be=>{be&&(G.value=be,D.value&&URL.revokeObjectURL(D.value),D.value=URL.createObjectURL(be)),URL.revokeObjectURL(H)},"image/jpeg",.9))},O.src=H}function h(){G.value&&(s("captured",G.value),c())}async function c(){D.value&&(URL.revokeObjectURL(D.value),D.value=null),G.value=null,U.value=0,await L("portrait"),await b(d.value)}async function M(O){if(!z.value||!l.value)return;const H=z.value.getBoundingClientRect();let P,te;if(O instanceof TouchEvent){const De=O.touches[0];if(!De)return;P=De.clientX,te=De.clientY}else P=O.clientX,te=O.clientY;const be=(P-H.left)/H.width,Ct=(te-H.top)/H.height;ee.value={x:P-H.left,y:te-H.top,show:!0},await w(be,Ct),setTimeout(()=>{ee.value.show=!1},1e3)}return(O,H)=>(_(),C(e(Te),null,{default:r(()=>[p(e($e),{class:"p-0"},{default:r(()=>[e(u)()?e(i)?(_(),T("div",Ms,[v("p",Es,m(e(i)),1),v("p",Fs,m(e(a)("businessCardScanner.camera.permissionInstructions")),1)])):(_(),T("div",{key:2,class:pe(["relative aspect-video bg-black overflow-hidden",me.value])},[Ge(v("video",{ref_key:"videoRef",ref:z,autoplay:"",playsinline:"",class:pe(["w-full h-full object-cover cursor-crosshair",e(d)==="user"?"scale-x-[-1]":""]),onClick:M,onTouchstart:Ne(M,["prevent"])},null,34),[[Ot,!D.value&&e(l)]]),ee.value.show&&e(l)&&!D.value?(_(),T("div",{key:0,class:"absolute pointer-events-none",style:Ke({left:`${ee.value.x}px`,top:`${ee.value.y}px`,transform:"translate(-50%, -50%)"})},[...H[0]||(H[0]=[v("div",{class:"w-16 h-16 border-2 border-white rounded-full animate-ping opacity-75"},null,-1),v("div",{class:"absolute inset-0 w-16 h-16 border-2 border-white rounded-full"},null,-1)])],4)):F("",!0),D.value?(_(),T("img",{key:1,src:D.value,alt:"Captured business card",class:"w-full h-full object-contain"},null,8,Vs)):F("",!0),!D.value&&e(l)?(_(),T("div",Us,[v("div",Ls,[e(f).torch?(_(),C(e(N),{key:0,variant:"ghost",size:"icon",class:"h-12 w-12 rounded-full bg-white/10 hover:bg-white/20 text-white",onClick:_e},{default:r(()=>[Y.value?(_(),C(e(bs),{key:0,size:24})):(_(),C(e(hs),{key:1,size:24}))]),_:1})):F("",!0),p(e(N),{size:"icon",class:"h-16 w-16 rounded-full bg-white hover:bg-white/90",disabled:Z.value,onClick:he},{default:r(()=>[p(e(ht),{size:28,class:"text-black"})]),_:1},8,["disabled"]),p(e(N),{variant:"ghost",size:"icon",class:"h-12 w-12 rounded-full bg-white/10 hover:bg-white/20 text-white",onClick:ge},{default:r(()=>[p(e(ms),{size:24})]),_:1})])])):F("",!0),D.value?(_(),T("div",Ps,[v("div",js,[p(e(N),{variant:"ghost",size:"icon",class:"h-12 w-12 rounded-full bg-white/10 hover:bg-white/20 text-white",onClick:c},{default:r(()=>[p(e(Ye),{size:24})]),_:1}),p(e(N),{variant:"ghost",size:"icon",class:"h-12 w-12 rounded-full bg-white/10 hover:bg-white/20 text-white",onClick:g},{default:r(()=>[p(e(gs),{size:24})]),_:1}),p(e(N),{size:"lg",class:"px-8 rounded-full bg-white hover:bg-white/90 text-black",onClick:h},{default:r(()=>[p(e(dt),{size:20,class:"mr-2"}),I(" "+m(e(a)("businessCardScanner.camera.useThisImage")),1)]),_:1})])])):F("",!0)],2)):(_(),T("div",As,[v("p",Rs,m(e(a)("businessCardScanner.camera.notSupported")),1),v("p",Ds,m(e(a)("businessCardScanner.camera.useUploadInstead")),1)]))]),_:1})]),_:1}))}}),Hs=Rt(zs,[["__scopeId","data-v-a15f819a"]]),bt=k({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:t}){const o=qe(n,t);return(i,l)=>(_(),C(e(ma),ke(Se(e(o))),{default:r(()=>[q(i.$slots,"default")]),_:3},16))}}),yt=k({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const a=n,s=t,o=X(a,"class"),i=qe(o,s);return(l,d)=>(_(),C(e(Aa),null,{default:r(()=>[p(e(Ba),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),p(e(ka),E(e(i),{class:e(J)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a.class)}),{default:r(()=>[q(l.$slots,"default"),p(e(ga),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:r(()=>[p(e(Ye),{class:"w-4 h-4"}),d[0]||(d[0]=v("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),Ns=k({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class"),s=Ae(a);return(o,i)=>(_(),C(e(qa),E(e(s),{class:e(J)("text-sm text-muted-foreground",t.class)}),{default:r(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),Ks=k({__name:"DialogHeader",props:{class:{}},setup(n){const t=n;return(a,s)=>(_(),T("div",{class:pe(e(J)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[q(a.$slots,"default")],2))}}),Gs=k({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class"),s=Ae(a);return(o,i)=>(_(),C(e(Da),E(e(s),{class:e(J)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:r(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),Js=k({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const t=n;return(a,s)=>(_(),C(e(Ea),ke(Se(t)),{default:r(()=>[q(a.$slots,"default")]),_:3},16))}}),Ys={class:"absolute top-4 right-4 z-10"},Qs={class:"relative w-full min-h-[400px] max-h-[80vh] bg-black flex items-center justify-center"},Xs={key:0,class:"text-white"},Ws=["src"],Zs={key:2,class:"text-white"},en=k({__name:"ImageViewer",props:{imageId:{},open:{type:Boolean}},emits:["update:open"],setup(n,{emit:t}){const a=n,s=t,o=We(),i=x(null),l=x(!1);Ce([()=>a.imageId,()=>a.open],async([u,b])=>{if(u&&b){l.value=!0;try{i.value=await o.getCardImageUrl(u)}catch(S){console.error("Failed to load full-size image:",S)}finally{l.value=!1}}},{immediate:!0}),Ce(()=>a.open,u=>{!u&&i.value&&(URL.revokeObjectURL(i.value),i.value=null)}),ce(()=>{i.value&&URL.revokeObjectURL(i.value)});function d(){s("update:open",!1)}function f(u){u.key==="Escape"&&a.open&&d()}return Q(()=>{document.addEventListener("keydown",f)}),ce(()=>{document.removeEventListener("keydown",f)}),(u,b)=>(_(),C(e(bt),{open:n.open,"onUpdate:open":d},{default:r(()=>[p(e(yt),{class:"max-w-4xl w-full p-0"},{default:r(()=>[v("div",Ys,[p(e(N),{variant:"ghost",size:"icon",class:"rounded-full bg-black/50 hover:bg-black/70 text-white",onClick:d},{default:r(()=>[p(e(Ye),{size:20})]),_:1})]),v("div",Qs,[l.value?(_(),T("div",Xs,"Loading...")):i.value?(_(),T("img",{key:1,src:i.value,alt:"Full-size business card",class:"max-w-full max-h-[80vh] object-contain"},null,8,Ws)):(_(),T("div",Zs,"No image available"))])]),_:1})]),_:1},8,["open"]))}}),tn=k({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(n,{emit:t}){const o=qe(n,t);return(i,l)=>(_(),C(e(sa),ke(Se(e(o))),{default:r(()=>[q(i.$slots,"default")]),_:3},16))}}),re=k({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class");return(s,o)=>(_(),C(e(ia),E(e(a),{class:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"}),{default:r(()=>[v("div",{class:pe(e(J)("pb-4 pt-0",t.class))},[q(s.$slots,"default")],2)]),_:3},16))}}),ie=k({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class"),s=Ae(a);return(o,i)=>(_(),C(e(la),E(e(s),{class:e(J)("border-b",t.class)}),{default:r(()=>[q(o.$slots,"default")]),_:3},16,["class"]))}}),ue=k({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,a=X(t,"class");return(s,o)=>(_(),C(e(da),{class:"flex"},{default:r(()=>[p(e(pa),E(e(a),{class:e(J)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t.class)}),{default:r(()=>[q(s.$slots,"default"),q(s.$slots,"icon",{},()=>[p(e(zt),{class:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}}),an={class:"space-y-6 mt-4"},sn={class:"text-lg font-semibold mb-3 flex items-center gap-2"},nn={class:"space-y-2 ml-6 list-decimal text-sm"},on={class:"text-lg font-semibold mb-3 flex items-center gap-2"},ln={class:"bg-muted p-4 rounded-lg space-y-3 text-sm"},rn={class:"font-semibold text-green-700 mb-1"},un={class:"ml-4 space-y-1 list-disc"},dn={class:"font-semibold text-red-700 mb-1"},cn={class:"ml-4 space-y-1 list-disc"},pn={class:"text-lg font-semibold mb-3 flex items-center gap-2"},fn={class:"grid gap-3 text-sm"},vn={class:"border-l-4 border-blue-500 pl-3 py-1"},mn={class:"text-muted-foreground"},_n={class:"border-l-4 border-blue-500 pl-3 py-1"},gn={class:"text-muted-foreground"},hn={class:"border-l-4 border-blue-500 pl-3 py-1"},bn={class:"text-muted-foreground"},yn={class:"border-l-4 border-blue-500 pl-3 py-1"},Cn={class:"text-muted-foreground"},wn={class:"text-lg font-semibold mb-3 flex items-center gap-2"},xn={class:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg"},kn={class:"font-semibold text-sm mb-2"},Sn={class:"text-xs text-muted-foreground"},qn=k({__name:"HelpGuide",setup(n){const{t}=Je(),a=x(!1);return(s,o)=>(_(),C(e(bt),{open:a.value,"onUpdate:open":o[0]||(o[0]=i=>a.value=i)},{default:r(()=>[p(e(Js),{"as-child":""},{default:r(()=>[p(e(N),{variant:"ghost",size:"icon","aria-label":e(t)("businessCardScanner.help.title")},{default:r(()=>[p(e(at),{size:20})]),_:1},8,["aria-label"])]),_:1}),p(e(yt),{class:"max-w-2xl max-h-[80vh] overflow-y-auto"},{default:r(()=>[p(e(Ks),null,{default:r(()=>[p(e(Gs),{class:"flex items-center gap-2"},{default:r(()=>[p(e(fs),{size:24}),I(" "+m(e(t)("businessCardScanner.help.title")),1)]),_:1}),p(e(Ns),null,{default:r(()=>[I(m(e(t)("businessCardScanner.help.description")),1)]),_:1})]),_:1}),v("div",an,[v("section",null,[v("h3",sn,[p(e(vs),{size:20,class:"text-green-600"}),I(" "+m(e(t)("businessCardScanner.help.quickStart.title")),1)]),v("ol",nn,[v("li",null,m(e(t)("businessCardScanner.help.quickStart.step1")),1),v("li",null,m(e(t)("businessCardScanner.help.quickStart.step2")),1),v("li",null,m(e(t)("businessCardScanner.help.quickStart.step3")),1),v("li",null,m(e(t)("businessCardScanner.help.quickStart.step4")),1)])]),v("section",null,[v("h3",on,[p(e(_s),{size:20,class:"text-yellow-600"}),I(" "+m(e(t)("businessCardScanner.help.ocrTips.title")),1)]),v("div",ln,[v("div",null,[v("h4",rn," "+m(e(t)("businessCardScanner.help.ocrTips.doTitle")),1),v("ul",un,[v("li",null,m(e(t)("businessCardScanner.help.ocrTips.do1")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.do2")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.do3")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.do4")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.do5")),1)])]),v("div",null,[v("h4",dn," "+m(e(t)("businessCardScanner.help.ocrTips.dontTitle")),1),v("ul",cn,[v("li",null,m(e(t)("businessCardScanner.help.ocrTips.dont1")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.dont2")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.dont3")),1),v("li",null,m(e(t)("businessCardScanner.help.ocrTips.dont4")),1)])])])]),v("section",null,[v("h3",pn,[p(e(ht),{size:20,class:"text-blue-600"}),I(" "+m(e(t)("businessCardScanner.help.captureTips.title")),1)]),v("div",fn,[v("div",vn,[v("strong",null,m(e(t)("businessCardScanner.help.captureTips.lighting.title")),1),v("p",mn,m(e(t)("businessCardScanner.help.captureTips.lighting.desc")),1)]),v("div",_n,[v("strong",null,m(e(t)("businessCardScanner.help.captureTips.angle.title")),1),v("p",gn,m(e(t)("businessCardScanner.help.captureTips.angle.desc")),1)]),v("div",hn,[v("strong",null,m(e(t)("businessCardScanner.help.captureTips.distance.title")),1),v("p",bn,m(e(t)("businessCardScanner.help.captureTips.distance.desc")),1)]),v("div",yn,[v("strong",null,m(e(t)("businessCardScanner.help.captureTips.background.title")),1),v("p",Cn,m(e(t)("businessCardScanner.help.captureTips.background.desc")),1)])])]),v("section",null,[v("h3",wn,[p(e(at),{size:20,class:"text-purple-600"}),I(" "+m(e(t)("businessCardScanner.help.faq.title")),1)]),p(e(tn),{type:"single",collapsible:"",class:"w-full"},{default:r(()=>[p(e(ie),{value:"faq-1"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q1")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a1")),1)]),_:1})]),_:1}),p(e(ie),{value:"faq-2"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q2")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a2")),1)]),_:1})]),_:1}),p(e(ie),{value:"faq-3"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q3")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a3")),1)]),_:1})]),_:1}),p(e(ie),{value:"faq-4"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q4")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a4")),1)]),_:1})]),_:1}),p(e(ie),{value:"faq-5"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q5")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a5")),1)]),_:1})]),_:1}),p(e(ie),{value:"faq-6"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q6")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a6")),1)]),_:1})]),_:1}),p(e(ie),{value:"faq-7"},{default:r(()=>[p(e(ue),{class:"text-sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.q7")),1)]),_:1}),p(e(re),{class:"text-sm text-muted-foreground"},{default:r(()=>[I(m(e(t)("businessCardScanner.help.faq.a7")),1)]),_:1})]),_:1})]),_:1})]),v("section",xn,[v("h4",kn,m(e(t)("businessCardScanner.help.privacy.title")),1),v("p",Sn,m(e(t)("businessCardScanner.help.privacy.description")),1)])])]),_:1})]),_:1},8,["open"]))}}),In={class:"min-h-screen p-4 bg-gradient-to-b from-background to-muted/20"},Tn={class:"container mx-auto max-w-7xl space-y-6"},$n={class:"relative"},Bn={class:"absolute top-0 right-0"},On={class:"text-center"},An={class:"text-3xl md:text-4xl font-bold mb-2"},Rn={class:"text-lg text-muted-foreground"},Dn={class:"flex gap-4"},Mn={key:0,class:"border rounded-lg p-4"},En=["src"],Fn={key:0,class:"space-y-2 mt-4"},Vn={class:"text-sm text-muted-foreground"},Un={class:"w-full bg-secondary rounded-full h-2"},Ln={class:"text-xs text-center"},Pn={key:1,class:"border-t pt-4 mt-4"},jn={class:"space-y-3"},zn={class:"flex justify-between items-center"},Hn={key:0,class:"flex gap-2 flex-wrap"},Nn={key:0,class:"flex gap-4 mb-4"},Kn={value:"date"},Gn={value:"name"},Jn={value:"company"},Yn={key:1,class:"text-center py-12"},Qn={class:"text-muted-foreground mb-2"},Xn={class:"text-sm text-muted-foreground"},Wn={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Zn={key:0,class:"absolute top-2 left-2 z-10"},eo={class:"space-y-1 text-sm"},to={key:0,class:"flex items-start gap-2"},ao={class:"text-muted-foreground min-w-[60px]"},so={class:"flex-1"},no={key:1,class:"flex items-start gap-2"},oo={class:"text-muted-foreground min-w-[60px]"},lo={class:"flex-1"},ro={key:2,class:"flex items-start gap-2"},io={class:"text-muted-foreground min-w-[60px]"},uo={class:"flex-1 break-all"},co={key:3,class:"flex items-start gap-2"},po={class:"text-muted-foreground min-w-[60px]"},fo={class:"flex-1 break-all"},vo={key:4,class:"flex items-start gap-2"},mo={class:"text-muted-foreground min-w-[60px]"},_o={class:"flex-1"},go={key:5,class:"flex items-start gap-2"},ho={class:"text-muted-foreground min-w-[60px]"},bo={class:"flex-1 break-all"},yo={key:6,class:"flex items-start gap-2"},Co={class:"text-muted-foreground min-w-[60px]"},wo={class:"flex-1"},xo={key:0,class:"pt-2 border-t"},ko={class:"text-xs text-muted-foreground mb-1"},So={class:"bg-muted/50 rounded p-2 text-xs font-mono whitespace-pre-wrap break-words max-h-24 overflow-y-auto"},qo={class:"flex items-center justify-between pt-2 border-t"},Io={class:"flex gap-2"},To={key:0},$o={key:1},Fo=k({__name:"BusinessCardScannerView",setup(n){const{t}=Je(),a=We(),s=x("camera"),o=x(!1),i=x(0),l=x(null),d=x(null),f=x(null),u=x(""),b=x("date"),S=x(!1),$=x(null),w=x(null),y=x(0),B=x(!1),A=x(!1);Q(()=>{const g=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);s.value=g?"camera":"upload"});const L=R(()=>{const g=a.searchCards(u.value);return a.sortCards(g,b.value)});Q(async()=>{await a.loadCards()});async function K(g){const c=g.target.files?.[0];if(c){if(!ys(c)){l.value=t("businessCardScanner.invalidFileType");return}await D(c)}}async function z(g){await D(g)}async function D(g){o.value=!0,l.value=null,i.value=0;try{d.value=g,f.value&&st(f.value),f.value=Cs(g),await a.scanCard(g,h=>{i.value=Math.round(h)}),G(),alert(t("businessCardScanner.messages.cardSaved"))}catch(h){console.error("OCR processing error:",h),l.value=a.error||t("businessCardScanner.scanError")}finally{o.value=!1}}function G(){d.value=null,f.value&&(st(f.value),f.value=null),l.value=null,i.value=0}async function Y(g){if(confirm(t("businessCardScanner.confirm.deleteMessage")))try{await a.deleteCard(g),alert(t("businessCardScanner.messages.cardDeleted"))}catch(h){console.error("Delete card error:",h),l.value=t("businessCardScanner.messages.deleteFailed")}}function Z(){try{const g=a.exportToJson(),h=new Blob([g],{type:"application/json"}),c=URL.createObjectURL(h),M=document.createElement("a");M.href=c,M.download=`business-cards-${new Date().toISOString().split("T")[0]}.json`,M.click(),URL.revokeObjectURL(c),alert(t("businessCardScanner.export.downloadSuccess"))}catch(g){console.error("Export error:",g),l.value=t("businessCardScanner.export.exportError")}}async function se(){try{const g=a.exportToJson();navigator.clipboard&&navigator.clipboard.writeText?(await navigator.clipboard.writeText(g),B.value=!0,setTimeout(()=>{B.value=!1},2e3),alert(t("businessCardScanner.export.copySuccess"))):U(g)}catch(g){console.error("Clipboard copy error:",g);try{const h=a.exportToJson();U(h)}catch(h){console.error("Fallback copy error:",h),l.value=t("businessCardScanner.export.copyError")}}}function U(g){const h=document.createElement("textarea");h.value=g,h.style.position="fixed",h.style.left="-9999px",h.style.top="-9999px",document.body.appendChild(h);try{if(h.select(),document.execCommand("copy"))B.value=!0,setTimeout(()=>{B.value=!1},2e3),alert(t("businessCardScanner.export.copySuccess"));else throw new Error("execCommand copy failed")}finally{document.body.removeChild(h)}}function ee(g){return new Date(g).toLocaleDateString()}function me(g){$.value=g,S.value=!0}async function _e(g){if(confirm(t("businessCardScanner.confirm.rescanMessage"))){w.value=g,y.value=0,l.value=null;try{await a.rescanCard(g,h=>{y.value=Math.round(h)}),alert(t("businessCardScanner.messages.rescanSuccess"))}catch(h){console.error("Rescan error:",h),l.value=t("businessCardScanner.messages.rescanFailed")}finally{w.value=null,y.value=0}}}function ge(){A.value=!A.value,A.value||a.clearSelection()}async function he(){if(a.selectedCount===0){alert(t("businessCardScanner.export.selectAtLeastOne"));return}try{const g=Array.from(a.selectedCardIds),h=a.exportToJson(g),c=new Blob([h],{type:"application/json"}),M=URL.createObjectURL(c),O=document.createElement("a");O.href=M,O.download=`business-cards-selected-${new Date().toISOString().split("T")[0]}.json`,O.click(),URL.revokeObjectURL(M),alert(t("businessCardScanner.export.downloadSuccess")),a.clearSelection(),A.value=!1}catch(g){console.error("Export selected error:",g),l.value=t("businessCardScanner.export.exportError")}}return(g,h)=>(_(),T("main",In,[v("div",Tn,[v("div",$n,[v("div",Bn,[p(qn)]),v("div",On,[v("h1",An,m(e(t)("businessCardScanner.title")),1),v("p",Rn,m(e(t)("businessCardScanner.subtitle")),1)])]),l.value?(_(),C(e(et),{key:0,variant:"destructive",class:"mb-4"},{default:r(()=>[p(e(Ze),null,{default:r(()=>[I(m(l.value),1)]),_:1})]),_:1})):F("",!0),p(e(Te),null,{default:r(()=>[p(e(Ee),null,{default:r(()=>[p(e(Fe),null,{default:r(()=>[I(m(e(t)("businessCardScanner.capture.title")),1)]),_:1}),p(e(Ie),null,{default:r(()=>[I(m(e(t)("businessCardScanner.capture.description")),1)]),_:1})]),_:1}),p(e($e),null,{default:r(()=>[p(e(ws),{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=c=>s.value=c),class:"w-full"},{default:r(()=>[p(e(xs),{class:"grid w-full grid-cols-2 mb-4"},{default:r(()=>[p(e(ot),{value:"camera"},{default:r(()=>[I(m(e(t)("businessCardScanner.tabs.camera")),1)]),_:1}),p(e(ot),{value:"upload"},{default:r(()=>[I(m(e(t)("businessCardScanner.tabs.upload")),1)]),_:1})]),_:1}),p(e(nt),{value:"camera",class:"space-y-4"},{default:r(()=>[p(Hs,{onCaptured:z})]),_:1}),p(e(nt),{value:"upload",class:"space-y-4"},{default:r(()=>[v("div",Dn,[p(e(lt),{type:"file",accept:"image/jpeg,image/png,image/webp",onChange:K,disabled:o.value},null,8,["disabled"])]),f.value?(_(),T("div",Mn,[v("img",{src:f.value,alt:"Card preview",class:"max-w-full h-auto max-h-64 mx-auto"},null,8,En)])):F("",!0)]),_:1})]),_:1},8,["modelValue"]),o.value?(_(),T("div",Fn,[v("p",Vn,m(e(t)("businessCardScanner.scanning")),1),v("div",Un,[v("div",{class:"bg-primary h-2 rounded-full transition-all",style:Ke({width:`${i.value}%`})},null,4)]),v("p",Ln,m(i.value)+"%",1)])):F("",!0),!o.value&&d.value?(_(),T("div",Pn,[p(e(et),null,{default:r(()=>[p(e(Ze),null,{default:r(()=>[I(m(e(t)("businessCardScanner.messages.scanSuccess"))+" ",1),p(e(N),{onClick:G,variant:"link",class:"ml-2"},{default:r(()=>[I(m(e(t)("businessCardScanner.actions.scanAnother")),1)]),_:1})]),_:1})]),_:1})])):F("",!0)]),_:1})]),_:1}),p(e(Te),null,{default:r(()=>[p(e(Ee),null,{default:r(()=>[v("div",jn,[v("div",zn,[v("div",null,[p(e(Fe),null,{default:r(()=>[I(m(e(t)("businessCardScanner.list.title")),1)]),_:1}),A.value?(_(),C(e(Ie),{key:1,class:"text-primary"},{default:r(()=>[I(m(e(t)("businessCardScanner.list.selected",{count:e(a).selectedCount})),1)]),_:1})):(_(),C(e(Ie),{key:0},{default:r(()=>[I(m(e(t)("businessCardScanner.list.count",{count:e(a).cardCount})),1)]),_:1}))]),e(a).hasCards?(_(),T("div",Hn,[p(e(N),{onClick:ge,variant:"ghost",size:"sm"},{default:r(()=>[I(m(A.value?e(t)("businessCardScanner.actions.cancel"):e(t)("businessCardScanner.actions.selectMode")),1)]),_:1}),A.value?(_(),T(ye,{key:1},[p(e(N),{onClick:e(a).selectAll,variant:"outline",size:"sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.actions.selectAll")),1)]),_:1},8,["onClick"]),p(e(N),{onClick:e(a).clearSelection,variant:"outline",size:"sm",disabled:e(a).selectedCount===0},{default:r(()=>[I(m(e(t)("businessCardScanner.actions.clearSelection")),1)]),_:1},8,["onClick","disabled"]),p(e(N),{onClick:he,variant:"default",size:"sm",disabled:e(a).selectedCount===0},{default:r(()=>[I(m(e(t)("businessCardScanner.actions.exportSelected")),1)]),_:1},8,["disabled"])],64)):(_(),T(ye,{key:0},[p(e(N),{onClick:se,variant:"outline",disabled:B.value},{default:r(()=>[I(m(B.value?e(t)("businessCardScanner.actions.copied"):e(t)("businessCardScanner.actions.copyToClipboard")),1)]),_:1},8,["disabled"]),p(e(N),{onClick:Z,variant:"outline"},{default:r(()=>[I(m(e(t)("businessCardScanner.actions.exportAll")),1)]),_:1})],64))])):F("",!0)])])]),_:1}),p(e($e),null,{default:r(()=>[e(a).hasCards?(_(),T("div",Nn,[p(e(lt),{modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=c=>u.value=c),placeholder:e(t)("businessCardScanner.list.search"),class:"flex-1"},null,8,["modelValue","placeholder"]),Ge(v("select",{"onUpdate:modelValue":h[2]||(h[2]=c=>b.value=c),class:"border rounded-md px-3 py-2"},[v("option",Kn,m(e(t)("businessCardScanner.list.sortDate")),1),v("option",Gn,m(e(t)("businessCardScanner.list.sortName")),1),v("option",Jn,m(e(t)("businessCardScanner.list.sortCompany")),1)],512),[[At,b.value]])])):F("",!0),e(a).hasCards?(_(),T("div",Wn,[(_(!0),T(ye,null,ut(L.value,c=>(_(),C(e(Te),{key:c.id,class:pe(["hover:shadow-lg transition-shadow relative",{"ring-2 ring-primary":A.value&&e(a).selectedCardIds.has(c.id)}])},{default:r(()=>[p(e(Ee),{class:"relative"},{default:r(()=>[A.value?(_(),T("div",Zn,[p(e(Ss),{checked:e(a).selectedCardIds.has(c.id),"onUpdate:checked":M=>e(a).toggleCardSelection(c.id),id:`checkbox-${c.id}`,class:"bg-background border-2"},null,8,["checked","onUpdate:checked","id"])])):F("",!0),p($s,{"image-id":c.imageId,onClick:M=>me(c.imageId)},null,8,["image-id","onClick"])]),_:2},1024),p(e($e),{class:"space-y-2"},{default:r(()=>[p(e(Fe),{class:"text-lg"},{default:r(()=>[I(m(c.name||"Unknown"),1)]),_:2},1024),p(e(Ie),null,{default:r(()=>[I(m(c.title),1)]),_:2},1024),v("div",eo,[c.company?(_(),T("p",to,[v("span",ao,m(e(t)("businessCardScanner.fields.company"))+":",1),v("span",so,m(c.company),1)])):F("",!0),c.phone?(_(),T("p",no,[v("span",oo,m(e(t)("businessCardScanner.fields.phone"))+":",1),v("span",lo,m(c.phone),1)])):F("",!0),c.email?(_(),T("p",ro,[v("span",io,m(e(t)("businessCardScanner.fields.email"))+":",1),v("span",uo,m(c.email),1)])):F("",!0),c.website?(_(),T("p",co,[v("span",po,m(e(t)("businessCardScanner.fields.website"))+":",1),v("span",fo,m(c.website),1)])):F("",!0),c.fax?(_(),T("p",vo,[v("span",mo,m(e(t)("businessCardScanner.fields.fax"))+":",1),v("span",_o,m(c.fax),1)])):F("",!0),c.socialMedia?(_(),T("p",go,[v("span",ho,m(e(t)("businessCardScanner.fields.socialMedia"))+":",1),v("span",bo,m(c.socialMedia),1)])):F("",!0),c.address?(_(),T("p",yo,[v("span",Co,m(e(t)("businessCardScanner.fields.address"))+":",1),v("span",wo,m(c.address),1)])):F("",!0)]),c.rawOcr?(_(),T("div",xo,[v("p",ko,m(e(t)("businessCardScanner.fields.rawOcr"))+":",1),v("div",So,m(c.rawOcr),1)])):F("",!0),v("div",qo,[p(e(Dt),{variant:"secondary"},{default:r(()=>[I(m(ee(c.timestamp)),1)]),_:2},1024),v("div",Io,[p(e(N),{onClick:M=>_e(c.id),variant:"outline",size:"sm",disabled:w.value===c.id},{default:r(()=>[w.value===c.id?(_(),T("span",To,m(e(t)("businessCardScanner.actions.rescanning"))+" "+m(y.value)+"% ",1)):(_(),T("span",$o,m(e(t)("businessCardScanner.actions.rescan")),1))]),_:2},1032,["onClick","disabled"]),p(e(N),{onClick:M=>Y(c.id),variant:"ghost",size:"sm"},{default:r(()=>[I(m(e(t)("businessCardScanner.actions.delete")),1)]),_:1},8,["onClick"])])])]),_:2},1024)]),_:2},1032,["class"]))),128))])):(_(),T("div",Yn,[v("p",Qn,m(e(t)("businessCardScanner.list.empty")),1),v("p",Xn,m(e(t)("businessCardScanner.list.emptyMessage")),1)]))]),_:1})]),_:1})]),p(en,{"image-id":$.value,open:S.value,"onUpdate:open":h[3]||(h[3]=c=>S.value=c)},null,8,["image-id","open"])]))}});export{Fo as default};
